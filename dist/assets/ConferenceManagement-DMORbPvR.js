import{r as t,u as L,g as x,b as f,o as _,j as e,L as D,B as a,q as k,e as q}from"./index-C1Md3IU_.js";import{M as z}from"./Modal-DhpaDZAq.js";const T=()=>{const[d,c]=t.useState([]),[g,h]=t.useState(!0),[m,p]=t.useState(null),[b,n]=t.useState(!1),[j,y]=t.useState(""),[o,l]=t.useState({show:!1,message:"",type:""}),N=L();t.useEffect(()=>{const s=x(),i=f(s,"conferences");return _(i,S=>{const r=S.val(),M=r?Object.keys(r).map(u=>({id:u,...r[u]})):[];c(M),h(!1)}),()=>{}},[]);const C=async()=>{const s=x();await q(f(s,`conferences/${m.id}`)),n(!1),c(d.filter(i=>i.id!==m.id)),l({show:!0,message:"Conference deleted successfully!",type:"success"}),setTimeout(()=>l({show:!1,message:"",type:""}),3e3)},w=s=>{p(s),y(`Are you sure you want to delete the conference: <strong>${a.sanitize(s.title)}</strong>?`),n(!0)},v=s=>{N("/admin/forms/conference",{state:{editData:s}})};return g?e.jsx(D,{}):e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Manage Conferences"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(s=>e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2 text-gray-800",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:a.sanitize(s.title)},className:"ql-editor"})}),e.jsx("p",{className:"text-gray-600",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:a.sanitize(s.date)},className:"ql-editor"})}),e.jsx("p",{className:"text-gray-600",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:a.sanitize(s.location)},className:"ql-editor"})})]}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>v(s),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-300",children:"Edit"}),e.jsx("button",{onClick:()=>w(s),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300",children:"Delete"})]})]},s.id))}),e.jsxs(z,{isOpen:b,title:"Confirm Deletion",onClose:()=>n(!1),children:[e.jsx("p",{dangerouslySetInnerHTML:{__html:a.sanitize(j)},className:"ql-editor"}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[e.jsx("button",{onClick:C,className:"bg-red-600 hover:bg-red-800 text-white font-bold py-2 px-4 rounded transition duration-300",children:"Confirm"}),e.jsx("button",{onClick:()=>n(!1),className:"bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded transition duration-300",children:"Cancel"})]})]}),o.show&&e.jsx(k,{message:o.message,type:o.type,onClose:()=>l({show:!1,message:"",type:""})})]})};export{T as default};
