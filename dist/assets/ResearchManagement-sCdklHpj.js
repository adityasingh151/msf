import{r as t,u as L,g as m,b as x,o as _,j as e,L as P,B as a,q as D,e as R}from"./index-C1Md3IU_.js";import{M as k}from"./Modal-DhpaDZAq.js";const E=()=>{const[d,c]=t.useState([]),[g,f]=t.useState(!0),[u,p]=t.useState(null),[b,n]=t.useState(!1),[j,y]=t.useState(""),[o,r]=t.useState({show:!1,message:"",type:""}),N=L();t.useEffect(()=>{const s=m(),l=x(s,"researchPapers");return _(l,C=>{const i=C.val(),M=i?Object.keys(i).map(h=>({id:h,...i[h]})):[];c(M),f(!1)}),()=>{}},[]);const w=async()=>{const s=m();await R(x(s,`researchPapers/${u.id}`)),n(!1),c(d.filter(l=>l.id!==u.id)),r({show:!0,message:"Research paper deleted successfully!",type:"success"}),setTimeout(()=>r({show:!1,message:"",type:""}),3e3)},v=s=>{p(s),y(`Are you sure you want to delete the research paper: <strong>${a.sanitize(s.title)}</strong>?`),n(!0)},S=s=>{N("/admin/forms/research",{state:{editData:s}})};return g?e.jsx(P,{}):e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Manage Research Papers"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(s=>e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2 text-gray-800",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:a.sanitize(s.title)},className:"ql-editor"})}),e.jsx("p",{className:"text-gray-600",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:a.sanitize(s.authors)},className:"ql-editor"})}),e.jsx("p",{className:"text-gray-600",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:a.sanitize(s.journal)},className:"ql-editor"})})]}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>S(s),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-300",children:"Edit"}),e.jsx("button",{onClick:()=>v(s),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300",children:"Delete"})]})]},s.id))}),e.jsxs(k,{isOpen:b,title:"Confirm Deletion",onClose:()=>n(!1),children:[e.jsx("p",{dangerouslySetInnerHTML:{__html:a.sanitize(j)},className:"ql-editor"}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[e.jsx("button",{onClick:w,className:"bg-red-600 hover:bg-red-800 text-white font-bold py-2 px-4 rounded transition duration-300",children:"Confirm"}),e.jsx("button",{onClick:()=>n(!1),className:"bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded transition duration-300",children:"Cancel"})]})]}),o.show&&e.jsx(D,{message:o.message,type:o.type,onClose:()=>r({show:!1,message:"",type:""})})]})};export{E as default};
