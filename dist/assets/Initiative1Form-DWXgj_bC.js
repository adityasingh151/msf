import{r as o,j as s,q as x,L as N,R as w,b as v,v as b,h as D,s as R}from"./index-C1Md3IU_.js";import{S as $}from"./Saving-5cbZdhLL.js";const P=()=>{const[n,l]=o.useState({introduction:"",aims:"",philosophy:"",offerings:"",vision:"",mission:"",essentialFeatures:"",advancedNations:"",problems:"",crisis:"",need:"",outcomes:"",philosophyPractice:""}),[d,h]=o.useState(!0),[r,m]=o.useState(!1),[p,i]=o.useState(""),[f,c]=o.useState("");o.useEffect(()=>{const e=["introduction","aims","philosophy","offerings","vision","mission","essentialFeatures","advancedNations","problems","crisis","need","outcomes","philosophyPractice"];(async()=>{try{const a={},S=e.map(async g=>{const C=v(b,`internetCollege/${g}`),E=await D(C);a[g]=E.val()||""});await Promise.all(S),l(a),h(!1)}catch(a){console.error("Error fetching data:",a),i("Error fetching data"),h(!1)}})()},[]);const j=async()=>{m(!0),i(""),c("");try{const e=Object.keys(n);for(const t of e)await R(v(b,`internetCollege/${t}`),n[t]);c("Sections saved successfully")}catch(e){console.error("Error saving sections:",e),i("Error saving sections")}finally{m(!1)}},y=(e,t)=>{l(a=>({...a,[e]:t}))},u=()=>{i(""),c("")};return s.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8",children:"The Internet College"}),f&&s.jsx(x,{message:f,type:"success",onClose:u}),p&&s.jsx(x,{message:p,type:"error",onClose:u}),d&&s.jsx(N,{}),!d&&Object.keys(n).map(e=>s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4 capitalize",children:e.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase())}),s.jsx(w,{value:n[e],onChange:t=>y(e,t),placeholder:`Enter the ${e} here...`})]},e)),s.jsx("button",{onClick:j,className:"px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition",disabled:r,children:r?"Saving...":"Save"}),r&&s.jsx($,{})]})};export{P as default};
